Problem: Magician and Chocolates
Link: https://www.interviewbit.com/problems/magician-and-chocolates/

Problem Description
 
Given N bags, each bag contains B[i] chocolates. There is a kid and a magician. In one unit of time, kid chooses a random bag i, 
eats B[i] chocolates, then the magician fills the ith bag with floor(B[i]/2) chocolates.

Find the maximum number of chocolates that kid can eat in A units of time.

NOTE: 

floor() function returns the largest integer less than or equal to a given number.
Return your answer modulo 109+7


Problem Constraints
1 <= A <= 105
1 <= |B| <= 105
1 <= Bi <= INT_MAX

Input Format
First argument is an integer A.

Second argument is an integer array B of size N.

Output Format
Return an integer denoting the maximum number of chocolates that kid can eat in A units of time.

Example Input
Input 1:

 A = 3
 B = [6, 5]
Input 2:

 A = 5
 b = [2, 4, 6, 8, 10]

Example Output
Output 1:
 14
Output 2:
 33

Example Explanation
Explanation 1:

 At t = 1 kid eats 6 chocolates from bag 0, and the bag gets filled by 3 chocolates. 
 At t = 2 kid eats 5 chocolates from bag 1, and the bag gets filled by 2 chocolates. 
 At t = 3 kid eats 3 chocolates from bag 0, and the bag gets filled by 1 chocolate. 
 so, total number of chocolates eaten are 6 + 5 + 3 = 14

CODE:

int Solution::nchoc(int A, vector<int> &B) {
    
    // Approach 1: Brute Force - O(n log n + A × n)
    // 1. Sort array once: O(n log n)
    // 2. For A iterations:
    //    - Pick largest: B.back() [O(1)]
    //    - Replace it with B[i]/2 
    //    - Find correct position in sorted array: O(n)
    //    - Shift elements to insert: O(n)
    // 3. Total: O(n log n + A × n)

    // Approach 2: Skip Sorting - Still O(A × n)
    // Instead of maintaining sorted order:
    // 1. For A iterations:
    //    - Linear scan to find largest: O(n) OR Binary search: O(log n)
    //    - Add to totalChocolates
    //    - Replace with B[i]/2 in array: O(1) or O(n)
    // 2. Total: A × O(n) = O(A × n)
    
    priority_queue<int> maxHeap;
    
    for(int i=0;i<B.size();i++) 
    maxHeap.push(B[i]);
    
    long long totalChocolates = 0;
    while(A && !maxHeap.empty()) {
        int perChoc = maxHeap.top();
        totalChocolates+=perChoc;
        
        if(perChoc/2)
        maxHeap.push(perChoc/2);
        
        maxHeap.pop();
        A--;
    }
    
    return totalChocolates%1000000007;
    
}
